\listof{lstlisting}{List of Listings}
\listof{codesnippet}{List of Code Snippets}
\listof{algorithm}{List of Algorithms}

\chapter{Environments}

\begin{code}
\begin{lstlisting}[caption={Test 1},label={listing:test1},name={test}]
Line 1
Line 2
\end{lstlisting}
\end{code}

\begin{code}
\begin{lstlisting}[caption={Test 2},label={listing:test2},name={test}]
Line 3
Line 4
\end{lstlisting}
\end{code}

Referencing normal listings: \testrefmacro{listing:test1}, \testrefmacro{listing:test2}.

\newpage

\begin{codesnippet}[caption={First snippet},label={snippet:first},name={hello}]
#include <stdio.h>
\end{codesnippet}

\begin{algorithm}[caption={First algorithm},label={alg:first},name={myalg}]
A
B
\end{algorithm}

\begin{codesnippet}[caption={Second snippet},label={snippet:second},name={hello}]
int main(void)
{
  printf("Hello world!\n");
  return 0;
}
\end{codesnippet}

Referencing snippets: \testrefmacro{snippet:first}, \testrefmacro{snippet:second}.

\begin{algorithm}[caption={Second algorithm},label={alg:second},name={myalg}]
C
\end{algorithm}

Referencing algorithms: \testrefmacro{alg:first}, \testrefmacro{alg:second}.

\chapter{Input}
\lstinputcodesnippet[caption={this is my caption},label={snippet:input}]{samplecode.c}

Referencing snippet: \testrefmacro{snippet:input}.
