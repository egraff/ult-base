\documentclass[a4paper]{book}
\usepackage[a4paper, textwidth=345pt, textheight=598pt, top=126pt]{geometry}

\usepackage{booktabs}

\usepackage{ult-upsc}

\usepackage{textcase}
\usepackage{mfirstuc}

\makeatletter
\edef\edefiabbr{\@@upsc{openMP}}
\def\defiabbr{\@@upsc{openMP}}
\protected@edef\pedefiabbr{\defiabbr}

\edef\edefabbr{\upsc{openMP}}
\def\defabbr{\upsc{openMP}}
\protected@edef\pedefabbr{\defabbr}
\makeatother


\begin{document}
\mainmatter

\section{Internal}
\makeatletter
\begin{tabular}{lllll}
\toprule
                                                       & Inline                                     & Def                                  & Edef                                  & Prot. edef\tabularnewline
\midrule
Normal:                                                & \@@upsc{openMP}                            & \defiabbr                            & \edefiabbr                            & \pedefiabbr\tabularnewline
\midrule
\textbackslash MakeUppercase:                          & \MakeUppercase{\@@upsc{openMP}}            & \MakeUppercase{\defiabbr}            & \MakeUppercase{\edefiabbr}            & \MakeUppercase{\pedefiabbr}\tabularnewline
\midrule
\textbackslash MakeTextLowercase:                      & \MakeTextLowercase{\@@upsc{openMP}}        & \MakeTextLowercase{\defiabbr}        & \MakeTextLowercase{\edefiabbr}        & \MakeTextLowercase{\pedefiabbr}\tabularnewline
\midrule
\textbackslash makefirstuc:                            & N/A                                        & \makefirstuc{\defiabbr}              & \makefirstuc{\edefiabbr}              & \makefirstuc{\pedefiabbr}\tabularnewline
\midrule
\textbackslash makefirstuc\textbackslash expandafter:  & \makefirstuc\expandafter{\@@upsc{openMP}}  & \makefirstuc\expandafter{\defiabbr}  & \makefirstuc\expandafter{\edefiabbr}  & \makefirstuc\expandafter{\pedefiabbr}\tabularnewline
\midrule
\textbackslash xmakefirstuc:                           & N/A                                        & N/A                                  & N/A                                   & N/A\tabularnewline
\midrule
\textbackslash xmakefirstuc\textbackslash expandafter: & \xmakefirstuc\expandafter{\@@upsc{openMP}} & \xmakefirstuc\expandafter{\defiabbr} & \xmakefirstuc\expandafter{\edefiabbr} & \xmakefirstuc\expandafter{\pedefiabbr}\tabularnewline
\bottomrule
\end{tabular}
\makeatother


\section{API}
\begin{tabular}{lllll}
\toprule
                                                       & Inline                                     & Def                                  & Edef                                  & Prot. edef\tabularnewline
\midrule
Normal:                                                & \upsc{openMP}                              & \defabbr                             & \edefabbr                             & \pedefabbr\tabularnewline
\midrule
\textbackslash MakeUppercase:                          & \MakeUppercase{\upsc{openMP}}              & \MakeUppercase{\defabbr}             & \MakeUppercase{\edefabbr}             & \MakeUppercase{\pedefabbr}\tabularnewline
\midrule
\textbackslash MakeTextLowercase:                      & \MakeTextLowercase{\upsc{openMP}}          & \MakeTextLowercase{\defabbr}         & \MakeTextLowercase{\edefabbr}         & \MakeTextLowercase{\pedefabbr}\tabularnewline
\midrule
\textbackslash makefirstuc:                            & N/A                                        & \makefirstuc{\defabbr}               & \makefirstuc{\edefabbr}               & \makefirstuc{\pedefabbr}\tabularnewline
\midrule
\textbackslash makefirstuc\textbackslash expandafter:  & \makefirstuc\expandafter{\upsc{openMP}}    & \makefirstuc\expandafter{\defabbr}   & \makefirstuc\expandafter{\edefabbr}   & \makefirstuc\expandafter{\pedefabbr}\tabularnewline
\midrule
\textbackslash xmakefirstuc:                           & N/A                                        & N/A                                  & N/A                                   & N/A\tabularnewline
\midrule
\textbackslash xmakefirstuc\textbackslash expandafter: & \xmakefirstuc\expandafter{\upsc{openMP}}   & \xmakefirstuc\expandafter{\defabbr}  & \xmakefirstuc\expandafter{\edefabbr}  & \xmakefirstuc\expandafter{\pedefabbr}\tabularnewline
\bottomrule
\end{tabular}


\end{document}
